<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'"
    />
    <title>Glabix Screen Recorder</title>
  </head>

  <body>
    <div class="page-backdrop"></div>

    <div id="draw-container"></div>

    <div class="controls">
      <button id="startBtn" class="clickable">Записать весь экран</button>
      <button id="stopBtn" class="clickable" disabled>Остановить запись</button>
      <div id="recordTimer">00:00</div>
    </div>

    <div class="draw-controls">
      <button id="createCanvas" class="clickable">Начать рисование</button>
      <button id="destroyCanvas" class="clickable">Закончить рисование</button>
    </div>

    <canvas id="canvas" width="300" height="300"></canvas>

    <div class="screen-area-controls">
      <button id="getScreenAreaBtn" class="clickable">
        Выбрать часть экрана
      </button>
      <br />
      <button id="startScreenAreaBtn" class="clickable" disabled>
        Начать запись части экрана
      </button>
      <br />
      <button id="stopScreenAreaBtn" class="clickable" disabled>
        Остановить запись части экрана
      </button>
    </div>

    <div class="webcamera-controls">
      <select id="cameraSelect" class="clickable">
        <option value="">Нет камеры</option>
      </select>
      <button id="cameraOnlyBtn" class="clickable">
        Включить режим только камера
      </button>
      <button id="stopCameraOnlyBtn" class="clickable">
        Выключить режим только камера
      </button>
      <button id="startWebcameraRecordBtn" class="clickable" disabled>
        Начать запись вебкамеры
      </button>
      <button id="stopWebcameraRecordBtn" class="clickable" disabled>
        Закончить запись вебкамеры
      </button>
    </div>

    <div class="webcamera-view">
      <video
        id="webcam-round"
        class="webcamera-frame hidden"
        width="640"
        height="480"
        autoplay
      ></video>
    </div>

    <div class="webcamera-only-view">
      <video
        id="webcam-square"
        class="webcamera-only-frame hidden"
        width="640"
        height="480"
        autoplay
      ></video>
    </div>

    <!-- You can also require other files to run in this process -->
    <script type="module" src="/src/renderer.ts"></script>
    <script type="module" src="/src/area-record-renderer.ts"></script>
    <script type="module" src="/src/webcamera-renderer.ts"></script>
  </body>
</html>
